    <% r = @aggregate %>
        <tr class="info">
          <td colspan="2"><strong><%=  pretty_truncate("#{h r.test_definition.name} <code>#{h(r.test_definition.file_name(:short))}</code>", 80, 'strong') -%></strong></td>

          <td><%= r.target -%></td>

          <td><%= r.results.count %></td>
          <td>
            <span class="result result-<%= r.status -%>"><%= r.status -%></span>
          </td>
          <td>
            <span class="badge badge-result badge-pass badge-count-<%= r.count(:pass) -%>"><%= r.count(:pass) %></span>
            <span class="badge badge-result badge-fail badge-count-<%= r.count(:fail) -%>"><%= r.count(:fail) or 0 %></span>
            <span class="badge badge-result badge-notrun badge-count-<%= r.count(:notrun) -%>"><%= r.count(:notrun) %></span>
            <span class="badge badge-result badge-error badge-count-<%= r.count(:error) -%>"><%= r.count(:error) -%></span>
          </td>
        </tr>

        <% r.children.each do |s| %>

            <tr>
              <td></td><td><em><%=  pretty_truncate(h(s.test_definition.name), 80, 'em') -%></em></td>
              <td><%= r.target -%></td>

              <td><%= s.results.count %></td>

              <td>
                <span class="result result-<%= s.status -%>"><%= s.status -%></span>
              </td>

              <td>
                <span class="badge badge-result badge-pass badge-count-<%= s.best.count(:pass) -%>"><%= s.best.count(:pass) %></span>
                <span class="badge badge-result badge-fail badge-count-<%= s.best.count(:fail) -%>"><%= s.best.count(:fail) or 0 %></span>
                <span class="badge badge-result badge-notrun badge-count-<%= s.best.count(:notrun) -%>"><%= s.best.count(:notrun) %></span>
                <span class="badge badge-result badge-error badge-count-<%= s.best.count(:error) -%>"><%= s.best.count(:error) -%></span>
              </td>
            </tr>

        <% end %>
